<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputScript name="commons.js" library="javascript" />
	<h:outputStylesheet name="screen.css" library="css" />

	<link rel="shortcut icon" type="image/x-icon"
		href="#{resource['images/ico.png']}" />
</h:head>

<h:body styleClass="body">
	<h:form id="input" prependId="false">
		<div id="header">
			<div id="logo_left" class="logo_left">
				<p:graphicImage name="images/LOGO.png" styleClass="image_logo" />
			</div>

			<div id="logo_right" class="logo_right">
				<p:graphicImage name="images/rotulo-de-alimentos.jpeg"
					id="logo-rotulo-alimentos" styleClass="image_logo" />
			</div>
		</div>
<div id="menu_bar">
		<p:menubar>
			<p:submenu label="File" icon="pi pi-file">
				<p:submenu label="New" icon="pi pi-briefcase">
					<p:menuitem value="Project" url="#" />
					<p:menuitem value="Other" url="#" />
				</p:submenu>
				<p:menuitem value="Open" url="#" />
				<p:separator />
				<p:menuitem value="Quit" url="#" />
			</p:submenu>

			<p:submenu label="Edit" icon="pi pi-pencil">
				<p:menuitem value="Undo" url="#" icon="pi pi-angle-double-left" />
				<p:menuitem value="Redo" url="#" icon="pi pi-angle-double-right" />
			</p:submenu>

			<p:submenu label="Relatório" icon="pi pi-cog">
				<p:submenu label="Visualizar" icon="pi pi-refresh">
					<p:menuitem value="Report" icon="pi-save"
						action="#{initial_ui.report}" />
					<p:menuitem value="Save" icon="pi-save" action="#{initial_ui.save}" />
				</p:submenu>
			</p:submenu>


			<f:facet name="options">
				<p:inputText style="margin:1px 10px 1px 1px;" placeholder="Search" />
				<p:commandButton type="button" value="Logout" icon="pi pi-home" />
			</f:facet>
		</p:menubar>
</div>
		<div id="page">
			<h:panelGrid columns="2" cellpadding="5">
				<p:outputLabel for="search_rotulo_ita"
					value="Descrição do produto: " />
				<p:inputText id="search_rotulo_ita"
					value="#{initial_ui.searchRotuloQuery}" />

				<p:commandButton action="#{initial_ui.searchRotulo}"
					update="data_table_rotulos" value="Pesquisar"
					onclick="showDiv('#loading-overlay');"
					oncomplete="hideLoading('#loading-overlay')" />
			</h:panelGrid>

			<p:panel id="data_table_rotulos" style="border-style: none;">
				<p:dataTable id="rotulo_event_list" var="rotulo"
					value="#{initial_ui.rotulos}" selectionMode="single"
					selection="#{initial_ui.selectedRotulo}" rowKey="#{rotulo.id}"
					rendered="#{not empty initial_ui.rotulos}"
					onRowClick="showDiv('#page-report'); hideDiv('#page');hideDiv('#menu_bar')"
					rows="10"
                 	paginator="true"
                 	paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 	rowsPerPageTemplate="5,10,20,30,40,50"
                 	sortMode="multiple">
					<p:ajax event="rowSelect" listener="#{initial_ui.onRowSelect}"
						update="report-table report_rotulo" />
					<p:column headerText="Produto" sortBy="#{rotulo.client.produto}">
						<h:outputText value="#{rotulo.client.produto}" />
					</p:column>
					<p:column headerText="Cliente" sortBy="#{rotulo.client.nome}">
						<h:outputText value="#{rotulo.client.nome}" />
					</p:column>
					<p:column headerText="Data" sortBy="#{rotulo.data}">
						<h:outputText value="#{rotulo.data}" />
					</p:column>
				</p:dataTable>
			</p:panel>
		</div>
		<div id="page-report" style="display: none;">
			<h:commandLink onclick="generatePDF()">
				<p:graphicImage name="images/pdf.png" width="24" />
			</h:commandLink>
			<p:commandButton value="Close" onclick="hideDiv('#page-report');showDiv('#page');showDiv('#menu_bar')">
			</p:commandButton>
			<div style="height: 80%; width: 80%;" id="div_report_data">
				<p:panel id="report_rotulo" style="border-style: none;">
				<div id="os_information" align="center">
					<table class="pure-table pure-table-bordered" style="width: 100%">
						<tr>
							<th style="text-align: left; width: 60px">
								<p:outputLabel
									value="Cliente: " />
							</th>
							<td><h:outputText id="cliente_it"
									value="#{initial_ui.selectedRotulo.client.nome}" /></td>
							<th style="text-align: center"><p:outputLabel
									value="Código: " /></th>
						</tr>
						<tr>
							<th style="text-align: left"><p:outputLabel
									value="Produto: " /></th>
							<td><h:outputText id="produto_it"
									value="#{initial_ui.selectedRotulo.client.produto}" /></td>
							<td rowspan="2" style="text-align: center; width: 200px"><p:barcode
									value="#{initial_ui.selectedRotulo.id}" type="pdf417"
									style="max-width: 200px;height: 40px;" /></td>
						</tr>
						<tr>
							<th style="text-align: left"><p:outputLabel value="Data: " /></th>
							<td><h:outputText id="data_im"
									value="#{initial_ui.selectedRotulo.data}" /></td>
						</tr>

					</table>
				</div>

				<h:panelGrid columns="1" cellpadding="5" id="report-table"
					styleClass="table-report" >
					
					<h:outputText id="denominacao_do_produto_ita"
						value="#{initial_ui.selectedRotulo.denominacaoProduto.descricao}"
						styleClass="report-value" />

					
					<h:outputText id="aromatizante_som"
						value="#{initial_ui.selectedRotulo.aromatizante.descricao}"
						styleClass="report-value" />

					
					<h:outputText id="fonte_peso_liquido_in"
						value="#{initial_ui.selectedRotulo.pesoLiquido.descricao}"
						styleClass="report-value" />

					<h:outputText id="gluten_som"
						value="#{initial_ui.selectedRotulo.gluten.descricao}"
						styleClass="report-value" />

					<h:outputText id="industria_origem_ita"
						value="#{initial_ui.selectedRotulo.industriaOrigem.descricao}"
						styleClass="report-value" />


					<h:outputText id="ingredientes_ita"
						value="#{initial_ui.selectedRotulo.ingredientes.descricao}"
						styleClass="report-value" />

					<h:outputText id="lactose_ita"
						value="#{initial_ui.selectedRotulo.derivadosLacteos.descricao}"
						styleClass="report-value" />

					<h:outputText id="alergico_ita"
						value="#{initial_ui.selectedRotulo.alergicos.descricao}"
						styleClass="report-value" />

					<h:outputText id="produzido_ita"
						value="#{initial_ui.selectedRotulo.produtor.descricao}"
						styleClass="report-value" />

					<h:outputText id="distribuidor_ita"
						value="#{initial_ui.selectedRotulo.distribuidor.descricao}" />

					<h:outputText id="importador_ita"
						value="#{initial_ui.selectedRotulo.importador.descricao}" />

					<h:outputText id="data_fabricacao_ita"
						value="#{initial_ui.selectedRotulo.dataFabricacao.descricao}" />

					<h:outputText id="prazo_validade_ita"
						value="#{initial_ui.selectedRotulo.prazoValidade.descricao}" />

					<h:outputText id="lote_ita"
						value="#{initial_ui.selectedRotulo.lote.descricao}" />

					<h:outputText id="alergenos_ita"
						value="#{initial_ui.selectedRotulo.glutenAlergenos.descricao}"
						styleClass="report-value" />

					<h:outputText id="uso_produto_ita"
						value="#{initial_ui.selectedRotulo.usoProduto.descricao}"
						styleClass="report-value" />

					<p:panel style="border:0px;padding:0px; margin:0px;" id="panel_validade_produto">

						<h:outputText
							value="Inserir informações de conservação conforme tabela abaixo:"
							style="border:0px;padding:0px; margin:0px;" id="test_02" />

						<p:panelGrid columns="2" style="margin:10px 0px 0px 0px"
							id="test_03">
							<h:outputText value="Validade a -18˚C(freezer):"
								class="report-index" />
							<h:outputText
								value="#{initial_ui.selectedRotulo.conservacaoProduto.validadeProduto['Validade a -18˚C(freezer):']}" />

							<h:outputText value="Validade a -4˚C (congelador):"
								class="report-index" />
							<h:outputText
								value="#{initial_ui.selectedRotulo.conservacaoProduto.validadeProduto['Validade a -4˚C (congelador):']}" />

							<h:outputText value="Validade a 4˚C (refrigerador):"
								class="report-index" />
							<h:outputText
								value="#{initial_ui.selectedRotulo.conservacaoProduto.validadeProduto['Validade a 4˚C (refrigerador):']}" />
						</p:panelGrid>
					</p:panel>
		
				</h:panelGrid>
				
				<div class="report-div" id="div_informacao_nutricional">
					<p:panel style="border-style: none;">
						<table class="pure-table pure-table-bordered">
							<tr>
								<th colspan="3" class="text-title-center">
									Informação Nutricional
								</th>
							</tr>
							<tr>
								<th colspan="3" class="text-right">
									<p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.porcao}"
										id="otpt-vlr-porcao">
									</p:outputLabel>
								</th>
							</tr>
							<tr>
								<td rowspan="2" style="vertical-align: bottom;">
									Valor Energético
								</td>
								<th>Quantidade por Porção</th>
								<th class="text-qtd-vd">%VD(*)</th>
							</tr>
							<tr>
								<td class="text-qtd-vd">
									<p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.valorEnergetico}"
										id="otpt-vlr-energetico" />
								</td>
								<td class="text-qtd-vd">
									<p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.valorEnergetico}"
										id="otpt-vlr-energetico-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel>
								</td>
							</tr>
							<tr>
								<td>Carboidratos</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.carboidratos} g"
										id="otpt-vlr-carboidratos" /></td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.carboidratos}"
										id="otpt-vlr-carboidratos-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel></td>
							</tr>
							<tr>
								<td>Proteínas</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.proteinas} g"
										id="otpt-vlr-proteinas" /></td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.proteinas}"
										id="otpt-vlr-proteinas-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel></td>
							</tr>
							<tr>
								<td>Gorduras Totais</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.gordurasTotais} g"
										id="otpt-vlr-gordura-totais" /></td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.gordurasTotais}"
										id="otpt-vlr-gordura-totais-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel></td>
							</tr>
							<tr>
								<td>Gorduras Saturadas</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.gordurasSaturadas} g"
										id="otpt-vlr-gordura-saturadas" /></td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.gordurasSaturadas}"
										id="otpt-vlr-gordura-saturadas-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel></td>
							</tr>
							<tr>
								<td>Gorduras Trans</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.gordurasTrans} g"
										id="otpt-vlr-gordura-trans" /></td>
								<td class="text-qtd-vd">**</td>
							</tr>
							<tr>
								<td>Fibra Alimentar</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.fibraAlimentar} g"
										id="otpt-vlr-fibra-alimentar" /></td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.fibraAlimentar}"
										id="otpt-vlr-fibra-alimentar-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel></td>
							</tr>
							<tr>
								<td>Sódio</td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.qtdPorcao.sodio} mg"
										id="otpt-vlr-sodio" /></td>
								<td class="text-qtd-vd"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.percVlrDiario.sodio}"
										id="otpt-vlr-sodio-vd">
										<f:convertNumber integerOnly="true" />
									</p:outputLabel></td>
							</tr>
							<tr>
								<td colspan="3"><p:outputLabel
										value="#{initial_ui.selectedRotulo.informacaoNutricional.legislacao}" />
								</td>
							</tr>
						</table>
						</p:panel>
					</div>
					<h:panelGrid columns="1" cellpadding="5" id="report-table-bottom">
						<h:outputText id="tartrazina_ita"
							value="#{initial_ui.selectedRotulo.tartrazina.descricao}" />
	
						<h:outputText id="fenilalanina_ita"
							value="#{initial_ui.selectedRotulo.aspartameFenilalanina.descricao}" />
	
						<h:outputText id="sac_ita"
							value="#{initial_ui.selectedRotulo.sac.descricao}" />
	
						<h:outputText id="transgenico_ita"
							value="#{initial_ui.selectedRotulo.transgenico.descricao}" />
	
						<h:outputText id="registro_ita"
							value="#{initial_ui.selectedRotulo.registroMAPA.descricao}" />
	
					</h:panelGrid>
				</p:panel>
			</div>
		</div>
	</h:form>
	<div id="loading-overlay">
		<div class="loading-icon"></div>
	</div>
</h:body>
</html>